% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/datatable.R
\name{mergeR}
\alias{mergeR}
\title{Flexible and Safe Data Table Merge with Column Filtering and Type Alignment}
\usage{
mergeR(
  dtX,
  dtY,
  by = NULL,
  by.x = NULL,
  by.y = NULL,
  all = FALSE,
  all.x = TRUE,
  all.y = all,
  columns = NULL,
  columns.ignore = NULL,
  uniqueY = TRUE,
  force.char = TRUE,
  verbose = TRUE,
  ...
)
}
\arguments{
\item{dtX}{A \code{data.table} object to be merged (typically the "left" table).}

\item{dtY}{A \code{data.table} object to be merged (typically the "right" table).}

\item{by}{Character vector of column names to join by (used for both \code{by.x} and \code{by.y}).}

\item{by.x}{Character vector of column names from \code{dtX} to join by (overrides \code{by}).}

\item{by.y}{Character vector of column names from \code{dtY} to join by (overrides \code{by}).}

\item{all}{Logical. If \code{TRUE}, performs a full outer join. Default is \code{FALSE}.}

\item{all.x}{Logical. If \code{TRUE} (default), performs a left join.}

\item{all.y}{Logical. If \code{TRUE}, performs a right join. Defaults to \code{all}.}

\item{columns}{Optional character vector of column names to keep from \code{dtY}. Named vector will trigger renaming.}

\item{columns.ignore}{Optional character vector of column names to exclude from \code{dtY}, after applying \code{columns}.}

\item{uniqueY}{Logical. If \code{TRUE} (default), applies \code{unique()} to \code{dtY} before merging.}

\item{force.char}{Logical. If \code{TRUE} (default), coerces non-matching join key types to character for compatibility.}

\item{verbose}{Logical. If \code{TRUE}, prints diagnostic messages during processing (currently affects column logs and type casting).}

\item{...}{Additional arguments passed to \code{data.table::merge()}, such as \code{suffixes}, \code{sort}, etc.}
}
\value{
A merged \code{data.table} with:
\itemize{
\item Only specified columns from \code{dtY}
\item Deduplicated rows (if \code{uniqueY = TRUE})
\item Cleanly aligned join key types
\item Original key of \code{dtX} reapplied, if still valid
}
}
\description{
A wrapper around \code{data.table::merge()} that merges two \code{data.table} objects with support for:
flexible key resolution, optional column subsetting, duplicate removal, and automatic type harmonization of key columns.
Main difference with the standard \code{data.table::merge()} is that in case of columns already existing it will not create
renamed columns like MyCol.x and MyCol.y - instead, MyCol will be overwritten from the second table
}
\details{
\itemize{
\item If \code{by.x} or \code{by.y} are not provided, defaults to the keys of \code{dtX} and \code{dtY}, respectively.
\item If \code{columns} is provided as a named vector, columns in \code{dtY} are renamed accordingly.
\item Overlapping non-key columns from \code{dtY} will replace matching columns in \code{dtX} (after removal).
\item When \code{force.char = TRUE}, join keys of different types (e.g., \code{character} vs \code{factor}) are coerced to \code{character}.
}
}
\examples{
dt1 <- data.table(ID = c("A", "B", "C"), val1 = 1:3)
dt2 <- data.table(ID = c("B", "C", "D"), val2 = c(20, 30, 40))
mergeR(dt1, dt2, by = "ID")

}
